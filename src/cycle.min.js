(function(a,b){if("function"==typeof define&&define.amd)define(["exports"],b);else if("undefined"!=typeof exports)b(exports);else{var c={exports:{}};b(c.exports),a.cycle=c.exports}})(this,function(_exports){"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.retrocycle=_exports.decycle=void 0,"function"!=typeof JSON.decycle&&(JSON.decycle=function(a,b){var c=new WeakMap;return function a(d,e){var f,g;return(void 0!==b&&(d=b(d)),"object"===_typeof(d)&&null!==d&&!(d instanceof Boolean)&&!(d instanceof Date)&&!(d instanceof Number)&&!(d instanceof RegExp)&&!(d instanceof String))?(f=c.get(d),void 0!==f)?{$ref:f}:(c.set(d,e),Array.isArray(d)?(g=[],d.forEach(function(b,c){g[c]=a(b,e+"["+c+"]")})):(g={},Object.keys(d).forEach(function(b){g[b]=a(d[b],e+"["+JSON.stringify(b)+"]")})),g):d}(a,"$")}),"function"!=typeof JSON.retrocycle&&(JSON.retrocycle=function($){var px=/^\$(?:\[(?:\d+|"(?:[^\\"\u0000-\u001f]|\\(?:[\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*")\])*$/;return function rez(value){value&&"object"===_typeof(value)&&(Array.isArray(value)?value.forEach(function(element,i){if("object"===_typeof(element)&&null!==element){var path=element.$ref;"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(element)}}):Object.keys(value).forEach(function(name){var item=value[name];if("object"===_typeof(item)&&null!==item){var path=item.$ref;"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)}}))}($),$});var decycle=JSON.decycle;_exports.decycle=decycle;var retrocycle=JSON.retrocycle;_exports.retrocycle=retrocycle});
